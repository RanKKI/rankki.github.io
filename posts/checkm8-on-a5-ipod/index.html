<!doctype html><html lang=zh-cn><head><link rel=preload href=/lib/font-awesome/webfonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/font-awesome/webfonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin=anonymous><link rel=preload href=/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2 as=font type=font/woff2 crossorigin=anonymous><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><title>在 iPod A5 设备上使用 Checkm8 漏洞 | RanKKI's Blog</title>
<link rel=canonical href=https://rankki.xyz/posts/checkm8-on-a5-ipod/><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="all,follow"><meta name=googlebot content="index,follow,snippet,archive"><meta property="og:url" content="https://rankki.xyz/posts/checkm8-on-a5-ipod/"><meta property="og:site_name" content="RanKKI's Blog"><meta property="og:title" content="在 iPod A5 设备上使用 Checkm8 漏洞"><meta property="og:description" content="漏洞的详细分析可以看 Checkm8 漏洞研究 和 iPhone史诗级漏洞checkm8攻击原理浅析，感觉讲的很可以，但因为我不是搞二进制的，不是很能看懂。
前言 手上有一台 A5，有 iCloud 锁的 iPod，一直没用。2019 年的时候知道了 ipwndfu 和 check1rn 两个项目，本以为能解决这台 iPod，但 CPU 处理器 S5L8942 并没有支持，于是就搁置了。
后来得知了一个新项目checkm8-a5, 用于处理 A5 的设备，但需要准备 Arduino 和 USB Host shield，根据 Issue#15 的介绍。这个芯片很特别，但电脑系统的行为会和预期的不一样，所以导致漏洞的利用会失败。
it is only for arduino because the A5 chipset is very specific, so an OS like macOS or Windows (or even Linux) will mess things up because we need exact control over the USB Port. 来源
设备 在网购了 Arduino 和 USB Host shield 之后，等待数日之后便开始尝试了。"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-11T10:16:07+08:00"><meta property="article:modified_time" content="2022-05-11T10:43:52+08:00"><meta property="article:tag" content="Arduino"><meta property="article:tag" content="Checkm8"><meta name=twitter:card content="summary"><meta name=twitter:title content="在 iPod A5 设备上使用 Checkm8 漏洞"><meta name=twitter:description content="漏洞的详细分析可以看 Checkm8 漏洞研究 和 iPhone史诗级漏洞checkm8攻击原理浅析，感觉讲的很可以，但因为我不是搞二进制的，不是很能看懂。
前言 手上有一台 A5，有 iCloud 锁的 iPod，一直没用。2019 年的时候知道了 ipwndfu 和 check1rn 两个项目，本以为能解决这台 iPod，但 CPU 处理器 S5L8942 并没有支持，于是就搁置了。
后来得知了一个新项目checkm8-a5, 用于处理 A5 的设备，但需要准备 Arduino 和 USB Host shield，根据 Issue#15 的介绍。这个芯片很特别，但电脑系统的行为会和预期的不一样，所以导致漏洞的利用会失败。
it is only for arduino because the A5 chipset is very specific, so an OS like macOS or Windows (or even Linux) will mess things up because we need exact control over the USB Port. 来源
设备 在网购了 Arduino 和 USB Host shield 之后，等待数日之后便开始尝试了。"><link rel=stylesheet href=https://rankki.xyz/css/styles.703587cbc83e3d6c4abb083f3126cd73c5c67af0782c70bbc9e4643c1d171ec879a51fed1fd12cf82e0469fc4c2454f83d63696957494d2268aa2cc691a4ef06.css><link rel=stylesheet href=https://rankki.xyz/css/syntax.css><link rel=stylesheet href=https://rankki.xyz/css/loading.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=icon type=image/png href=https://rankki.xyz/images/favicon.ico></head><body class="max-width mx-auto px3 ltr"><div class="content index py4"><header id=header><a href=https://rankki.xyz/><div id=title><h1>RanKKI's Blog</h1></div></a><div id=nav><ul><li class=icon><a href=# aria-label=Menu><i class="fas fa-bars fa-2x" aria-hidden=true></i></a></li><li><a href=/>Home</a></li><li><a href=/about>About</a></li><li><a href=/tags>Tags</a></li></ul></div></header><div id=header-post><span id=menu><div id=toc><nav id=TableOfContents></nav></div></span></div><article class=post itemscope itemtype=http://schema.org/BlogPosting><header><h1 class=posttitle itemprop="name headline">在 iPod A5 设备上使用 Checkm8 漏洞</h1><div class=meta><div class=postdate><time datetime="2022-05-11 10:16:07 +0800 CST" itemprop=datePublished>2022-05-11</time></div><div class=article-read-time><i class="far fa-clock"></i>
3 minute read</div><div class=article-tag><i class="fas fa-tag"></i>
<a class=tag-link href=/tags/arduino rel=tag>Arduino</a>
,
<a class=tag-link href=/tags/checkm8 rel=tag>checkm8</a></div></div></header><div class=content itemprop=articleBody><blockquote><p>漏洞的详细分析可以看 <a href=https://xuanxuanblingbling.github.io/ios/2020/07/10/checkm8/>Checkm8 漏洞研究</a> 和 <a href=https://zhuanlan.zhihu.com/p/87456653>iPhone史诗级漏洞checkm8攻击原理浅析</a>，感觉讲的很可以，但因为我不是搞二进制的，不是很能看懂。</p></blockquote><h1 id=前言>前言</h1><p>手上有一台 A5，有 iCloud 锁的 iPod，一直没用。2019 年的时候知道了 ipwndfu 和 check1rn 两个项目，本以为能解决这台 iPod，但 CPU 处理器 <code>S5L8942</code> 并没有支持，于是就搁置了。</p><p>后来得知了一个新项目<code>checkm8-a5</code>, 用于处理 A5 的设备，但需要准备 Arduino 和 USB Host shield，根据 <a href=https://github.com/a1exdandy/checkm8-a5/issues/15>Issue#15</a> 的介绍。这个芯片很特别，但电脑系统的行为会和预期的不一样，所以导致漏洞的利用会失败。</p><blockquote><p>it is only for arduino because the A5 chipset is very specific, so an OS like macOS or Windows (or even Linux) will mess things up because we need exact control over the USB Port. <a href=https://github.com/a1exdandy/checkm8-a5/issues/15#issuecomment-873496921>来源</a></p></blockquote><h1 id=设备>设备</h1><p>在网购了 Arduino 和 USB Host shield 之后，等待数日之后便开始尝试了。</p><p>设备不被 USB Host shield 识别，在大量的搜索后，发现需要用电烙铁焊掉三个触电，使电路连通。</p><p><img src=https://s2.loli.net/2022/05/11/VoL8YRWOGPhmjyK.jpg alt=usb_host_shield_fix_small.jpg></p><h1 id=checkm8>Checkm8</h1><p>将项目 <code>checkm8-a5</code> 下载下来并刷入 Arduino，连接好 USB Host shield，并将 iPod 进入 DFU 模式，链接上即可在串口看到日志，等待一段时间就可以进入 Bypass 阶段。</p><h1 id=bypass>Bypass</h1><p>越过 iCloud 锁需要用到另一个软件 <code>Silver</code>，作者是 <code>appletech752</code>。 由于闭源产品加上这个性质，我试用了一台旧的 MacBook 去运行，以免对主力机有影响。</p><p>软件的 UI 十分简单，但 <code>checkm8</code> 漏洞的利用不一定成功，因此需要重复无数次，直到成功。</p><h1 id=后续>后续</h1><p>bypass 的操作只是针对本机的，但对于 Apple 来讲，该设备还是属于 <code>锁</code> 的状态，因此刷机会导致 iCloud 锁依旧存在。不过应该没有人会在给 A5 的设备升级刷机了吧。</p><h1 id=links>Links</h1><ul><li><a href=https://github.com/axi0mX/ipwndfu>ipwndfu</a></li><li><a href=https://github.com/DSecurity/checkm8-arduino#building>checkm8-arduino</a></li><li><a href=https://github.com/a1exdandy/checkm8-a5>checkm8-a5</a></li><li><a href=https://github.com/felis/USB_Host_Shield_2.0>USB_Host_Shield_2.0</a></li><li><a href="https://esp8266-notes.blogspot.com/2017/08/defective-arduino-usb-host-shield-boards.html?m=1">USB Host Shield 修复缺陷</a></li><li><a href=https://www.appletech752.com/downloads.html>Silver</a></li></ul></div></article><footer id=footer><div class=footer-left>Copyright &copy; 2024 Hugh(Hui) Liu</div><script src=https://code.iconify.design/2/2.0.4/iconify.min.js></script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "7f02cdd7074d4e1f8125c11651f47699"}'></script></footer></div></body><link rel=stylesheet href=/lib/font-awesome/css/all.min.css><script src=/lib/jquery/jquery.min.js></script><script src=/js/main.js></script></html>