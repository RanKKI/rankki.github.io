<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Certbot on RanKKI's Blog</title><link>https://rankki.xyz/tags/certbot/</link><description>Recent content in Certbot on RanKKI's Blog</description><generator>Hugo</generator><language>zh-cn</language><copyright>Hugh(Hui) Liu</copyright><lastBuildDate>Sun, 05 Mar 2023 23:16:31 +1100</lastBuildDate><atom:link href="https://rankki.xyz/tags/certbot/index.xml" rel="self" type="application/rss+xml"/><item><title>使用 Certbot 对内网域名签名</title><link>https://rankki.xyz/posts/certbot-sign-internal-domain/</link><pubDate>Sun, 05 Mar 2023 22:48:16 +1100</pubDate><guid>https://rankki.xyz/posts/certbot-sign-internal-domain/</guid><description>前情提要 有一个 All-In-boomOne 的服务器，然后为了方便管理，不用记 IP 地址。搭建了一台内网 DNS 服务，并使用自己的某三级域名 internal.example.org 作为内网域名使用。
虽然说内网服务，上不上 HTTPS 没差，但在 iOS Safari 上会有不安全的提醒，以及没有那把小锁🔒，看着不舒服。
Certbot 在签名的时候，会查 DNS 记录，但内网域名只在内网使用，怎么可能会有公网的 DNS 记录呢。
以及，我的 nginx 是放在 Docker 里跑的，相对于直接在宿主机上还是有点区别的
解决方案 在某 medium 文章中1，使用了 Certbot 的 Docker 镜像，并且将该容器的一些目录和 nginx 容器目录做了共享。
1 2 3 4 5 6 7 8 9 10 11 12 13 services: web: container_name: nginx image: docker.io/nginx volumes: - ${PWD}/conf.d:/etc/nginx/conf.d - ${PWD}/certbot/conf:/etc/letsencrypt - ${PWD}/certbot/www:/var/www/certbot certbot: image: docker.io/certbot/certbot volumes: - ${PWD}/certbot/conf:/etc/letsencrypt - ${PWD}/certbot/www:/var/www/certbot 配置 Nginx 然后在 nginx 的 *.</description></item></channel></rss>